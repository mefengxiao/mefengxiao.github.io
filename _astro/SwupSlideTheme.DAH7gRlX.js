import{e as i}from"./index.modern.CkIAsQri.js";let o=class extends i{constructor(...t){super(...t),this._originalAnimationSelectorOption="",this._addedStyleElements=[],this._addedHTMLContent=[],this._classNameAddedToElements=[],this._addClassNameToElement=()=>{this._classNameAddedToElements.forEach(e=>{Array.from(document.querySelectorAll(e.selector)).forEach(s=>{s.classList.add(`swup-transition-${e.name}`)})})}}_beforeMount(){this._originalAnimationSelectorOption=String(this.swup.options.animationSelector),this.swup.options.animationSelector='[class*="swup-transition-"]',this.swup.hooks.on("content:replace",this._addClassNameToElement)}_afterUnmount(){this.swup.options.animationSelector=this._originalAnimationSelectorOption,this._addedStyleElements.forEach(t=>{t.outerHTML=""}),this._addedStyleElements=[],this._addedHTMLContent.forEach(t=>{t.outerHTML=""}),this._addedHTMLContent=[],this._classNameAddedToElements.forEach(t=>{Array.from(document.querySelectorAll(t.selector)).forEach(e=>{e.className.split(" ").forEach(s=>{new RegExp("^swup-transition-").test(s)&&e.classList.remove(s)})})}),this.swup.hooks.off("content:replace",this._addClassNameToElement)}applyStyles(t){const e=document.createElement("style");e.setAttribute("data-swup-theme",""),e.appendChild(document.createTextNode(t)),document.head.prepend(e),this._addedStyleElements.push(e)}applyHTML(t){const e=document.createElement("div");e.innerHTML=t,document.body.appendChild(e),this._addedHTMLContent.push(e)}addClassName(t,e){this._classNameAddedToElements.push({selector:t,name:e}),this._addClassNameToElement()}};function n(){return n=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)({}).hasOwnProperty.call(e,s)&&(a[s]=e[s])}return a},n.apply(null,arguments)}class l extends o{constructor(t={}){super(),this.name="SwupSlideTheme",this.defaults={mainElement:"#swup",reversed:!1},this.options=n({},this.defaults,t)}mount(){this.applyStyles("html{--swup-slide-theme-direction:1;--swup-slide-theme-translate:60px;--swup-slide-theme-duration-fade:.3s;--swup-slide-theme-duration-slide:.4s;--swup-slide-theme-translate-forward:calc(var(--swup-slide-theme-direction)*var(--swup-slide-theme-translate));--swup-slide-theme-translate-backward:calc(var(--swup-slide-theme-translate-forward)*-1)}html.swup-theme-reverse{--swup-slide-theme-direction:-1}html.is-changing .swup-transition-main{opacity:1;transform:translateZ(0);transition:opacity var(--swup-slide-theme-duration-fade),transform var(--swup-slide-theme-duration-slide)}html.is-animating .swup-transition-main{opacity:0;transform:translate3d(0,var(--swup-slide-theme-translate-backward),0)}html.is-animating.is-leaving .swup-transition-main{transform:translate3d(0,var(--swup-slide-theme-translate-forward),0)}"),this.addClassName(this.options.mainElement,"main"),this.options.reversed&&document.documentElement.classList.add("swup-theme-reverse")}unmount(){document.documentElement.classList.remove("swup-theme-reverse")}}export{l as default};
